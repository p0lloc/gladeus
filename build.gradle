plugins {
    id 'java'
    id 'java-library'
    id 'maven-publish'
    id 'com.github.johnrengelman.shadow' version '6.1.0'
}

group 'cc.pollo.gladeus'
version '1.0-SNAPSHOT'

allprojects {
    apply plugin: 'java'
    apply plugin: 'maven-publish'

    repositories {
        maven { url "https://papermc.io/repo/repository/maven-public/" }
        mavenCentral()
        mavenLocal()
    }

    dependencies {
        implementation("com.destroystokyo.paper:paper-api:1.16.5-R0.1-SNAPSHOT")
    }

    publishing {
        publications {
            mavenJava(MavenPublication) {
                if (project.plugins.hasPlugin('java')) {
                    from components.java
                }
            }
        }
    }
}

repositories {
    mavenCentral()
    mavenLocal()
}

tasks.build.dependsOn shadowJar